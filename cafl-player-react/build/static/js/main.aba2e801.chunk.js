(this["webpackJsonpcafl-player-react"]=this["webpackJsonpcafl-player-react"]||[]).push([[0],{40:function(e,t,n){var a=n(79).clean,r=/[.*+?^${}()|[\]\\]/g,i=/[a-z0-9_]/i,o=/\s+/;e.exports=function(e,t,n){var l,c;return c={insideWords:!1,findAllOccurrences:!1,requireMatchAll:!1},l=(l=n)||{},Object.keys(l).forEach((function(e){c[e]=!!l[e]})),n=c,e=a(e),(t=a(t)).trim().split(o).filter((function(e){return e.length>0})).reduce((function(t,a){var o,l,c=a.length,s=!n.insideWords&&i.test(a[0])?"\\b":"",u=new RegExp(s+a.replace(r,"\\$&"),"i");if(o=u.exec(e),n.requireMatchAll&&null===o)return e="",[];for(;o&&(l=o.index,t.push([l,l+c]),e=e.slice(0,l)+new Array(c+1).join(" ")+e.slice(l+c),n.findAllOccurrences);)o=u.exec(e);return t}),[]).sort((function(e,t){return e[0]-t[0]}))}},69:function(e,t,n){e.exports=n(81)},81:function(e,t,n){"use strict";n.r(t);var a=n(32),r=n(19),i=n(50),o=n(51),l=n(61),c=n(0),s=n.n(c),u=n(10),p=n.n(u),m=n(131),f=n(11),d=n(124),b=n(4),g=n(33);function h(e){return s.a.createElement(g.a,e,s.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32"},s.a.createElement("polyline",{fill:"none",strokeMiterlimit:"10",strokeWidth:"2.5",stroke:"currentColor",points:"1.5,15.5 1.5,1.5 16.5,1.5 16.5,30.5 30.5,30.5 30.5,15.5 "})))}function v(e){return s.a.createElement(g.a,e,s.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32"},s.a.createElement("polyline",{fill:"none",strokeMiterlimit:"10",strokeWidth:"2.5",stroke:"currentColor",points:"1.5,15.5 9.5,1.5 22.5,30.5 30.5,15.5"})))}function E(e){return s.a.createElement(g.a,e,s.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32"},s.a.createElement("polyline",{fill:"none",strokeMiterlimit:"10",strokeWidth:"2.5",stroke:"currentColor",points:"1.5,15.5 1.5,1.5 30.5,30.5 30.5,15.5 "})))}function y(e){return s.a.createElement(g.a,e,s.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32"},s.a.createElement("path",{fill:"none",strokeMiterlimit:"10",strokeWidth:"2.5",stroke:"currentColor",d:"M30.5,15.5c0,17-14,17.8-14,0c0-17.2-15-16-15,0 "})))}var O=n(53),x=n.n(O),w=n(127),j=n(125),k=n(126),C=n(137),S=Object(d.a)((function(e){return{paper:{display:"flex",border:"1px solid ".concat(e.palette.divider),flexWrap:"wrap"},divider:{alignSelf:"stretch",height:"auto",margin:e.spacing(1,.5)}}})),P=Object(b.a)((function(e){return{grouped:{margin:e.spacing(.5),border:"none",padding:e.spacing(0,1),"&:not(:first-child)":{borderRadius:e.shape.borderRadius},"&:first-child":{borderRadius:e.shape.borderRadius}}}}))(C.a);function q(e){var t=e.optionsChangeCallback,n=s.a.useState("sine"),a=Object(f.a)(n,2),r=a[0],i=a[1],o=s.a.useState(!0),l=Object(f.a)(o,2),c=l[0],u=l[1],p=S();return s.a.createElement("div",null,s.a.createElement(j.a,{elevation:0,className:p.paper},s.a.createElement(P,{size:"small",value:r,exclusive:!0,onChange:function(e,n){i(n),t({waveform:n,loop:c})},"aria-label":"waveform"},s.a.createElement(k.a,{value:"square","aria-label":"square waves"},s.a.createElement(h,null)),s.a.createElement(k.a,{value:"triangle","aria-label":"triangle waves"},s.a.createElement(v,null)),s.a.createElement(k.a,{value:"sawtooth","aria-label":"sawtooth waves"},s.a.createElement(E,null)),s.a.createElement(k.a,{value:"sine","aria-label":"sine waves"},s.a.createElement(y,null))),s.a.createElement(w.a,{orientation:"vertical",className:p.divider}),s.a.createElement(P,{size:"small","arial-label":"text formatting"},s.a.createElement(k.a,{value:"loop",selected:c,onClick:function(){u(!c),t({waveform:r,loop:!c})},"aria-label":"loop audio"},s.a.createElement(x.a,null)))))}var W=n(28),L=n.n(W),A=n(37),M=n(2),B=n(13),I=n(135),N=n(136),R=n(130),z=n(132),D=n(39),_=n.n(D),J=n(40),F=n.n(J),T=n(128),H=n(25),V=n(62);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Object(B.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t=e.data,n=e.index,a=e.style;return s.a.cloneElement(t[n],{style:G({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block"},a)})}var Q=s.a.forwardRef((function(e,t){var n=e.children,a=Object(M.a)(e,["children"]),r=Object(H.a)(),i=Object(T.a)(r.breakpoints.up("sm")),o=Array.isArray(n)?n.length:0,l=2.2*(i?36:48),c=s.a.useMemo((function(){return s.a.forwardRef((function(e,t){return s.a.createElement("div",Object.assign({ref:t},e,a))}))}),[]);return s.a.createElement("div",{ref:t},s.a.createElement(V.a,{style:{padding:0,height:Math.min(3,o)*l,maxHeight:"auto"},itemData:n,height:250,width:"100%",outerElementType:c,innerElementType:"ul",itemSize:l,overscanCount:5,itemCount:o},K))})),U=Object(d.a)({listbox:{"& ul":{padding:0,margin:0}}});function X(e){var t=e.presetsChangeCallback,n=U(),a=s.a.useState(!1),r=Object(f.a)(a,2),i=r[0],o=r[1],l=s.a.useState([]),c=Object(f.a)(l,2),u=c[0],p=c[1],d=i&&0===u.length;return s.a.useEffect((function(){var e=!0;if(d)return Object(A.a)(L.a.mark((function t(){var n,a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=localStorage.getItem("presets")){t.next=11;break}return t.next=4,fetch("".concat("/cafl-player-react/build","/cafl.json"));case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,localStorage.setItem("presets",JSON.stringify(n)),t.next=12;break;case 11:n=JSON.parse(n);case 12:e&&p(Object.keys(n.programs).map((function(e){var t=n.programs[e],a=e;return t.comments||(t.comments="None"),t.frequencies||(t.frequencies=[]),G({name:a},n.programs[e])})));case 13:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[d]),s.a.createElement(N.a,{id:"presets",multiple:!0,open:i,onOpen:function(){o(!0)},onClose:function(){o(!1)},onChange:function(e,n){t(n)},getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,filterOptions:function(e,t){if(e.length>0){var n=t.inputValue.toLowerCase();return e.filter((function(e){return!!(e.name.toLowerCase().includes(n)||e.comments&&e.comments.toLowerCase().includes(n))}))}return[]},disableOpenOnFocus:!0,disableListWrap:!0,classes:n,ListboxComponent:Q,freeSolo:!0,autoHighlight:!0,options:u,loading:d,renderInput:function(e){return s.a.createElement(I.a,Object.assign({},e,{label:"Presets",fullWidth:!0,variant:"outlined",InputProps:G({},e.InputProps,{endAdornment:s.a.createElement(s.a.Fragment,null,d?s.a.createElement(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},renderOption:function(e,t){var n=t.inputValue,a={insideWords:!0,findAllOccurrences:!0},r=F()(e.name,n,a),i=_()(e.name,r),o=F()(e.comments,n,a),l=_()(e.comments,o),c=e.frequencies?e.frequencies.join(", "):void 0,u=F()(c,n,a),p=_()(c,u);return s.a.createElement(m.a,{container:!0,alignItems:"center"},s.a.createElement(m.a,{item:!0,xs:!0},i.map((function(e,t){return s.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})),s.a.createElement(z.a,{variant:"body2",color:"textSecondary"},e.comments&&"Comments: ",e.comments&&l.map((function(e,t){return s.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)}))),s.a.createElement(z.a,{variant:"body2",color:"textSecondary"},e.frequencies&&"Frequencies: ",e.frequencies&&p.map((function(e,t){return s.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})))))}})}var Y=n(133),Z=n(56),ee=n.n(Z),te=n(57),ne=n.n(te),ae=n(41),re=n.n(ae),ie=Object(d.a)((function(e){return{fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}));function oe(e){var t=e.presets,n=e.options,a=ie(),r=s.a.useState(!1),i=Object(f.a)(r,2),o=i[0],l=i[1];function c(){return u.apply(this,arguments)}function u(){return(u=Object(A.a)(L.a.mark((function e(){var a,r,i,c,s,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.start();case 2:if(a=re.a.Transport,o)a.stop(),a.cancel();else{for(a.timeSignature=[4,4],a.bpm.value=60,180,r=0,i=0;i<t.length;i++)if((c=t[i]).frequencies)for(s=0;s<c.frequencies.length;s++)u=c.frequencies[s],new re.a.OmniOscillator(u,n.waveform).toMaster().sync().start(r).stop(r+180),r+=180;a.setLoopPoints(0,r),a.loop=n.loop,a.start(0,0)}l(!o&&t.length>0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.createElement("div",null,o?s.a.createElement(Y.a,{"aria-label":"Pause",className:a.fab,color:"secondary",onClick:c},s.a.createElement(ne.a,null)):s.a.createElement(Y.a,{"aria-label":"Play",className:a.fab,color:"primary",onClick:c},s.a.createElement(ee.a,null)))}var le=n(134),ce=n(60),se=n(58),ue=n.n(se),pe=n(59),me=n.n(pe),fe=Object(ce.a)({palette:{primary:ue.a,secondary:me.a}}),de=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={presets:[],options:{waveform:"sine",loop:!0}},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:fe.root},s.a.createElement(m.a,{container:!0,spacing:3},s.a.createElement(m.a,{item:!0,xs:12},s.a.createElement(X,{presetsChangeCallback:function(t){e.setState({presets:t||[]})}})),s.a.createElement(m.a,{item:!0,xs:12,sm:6},s.a.createElement(q,{optionsChangeCallback:function(t){e.setState({options:t})}})),s.a.createElement(m.a,{item:!0,xs:12},s.a.createElement(oe,{presets:this.state.presets,options:this.state.options}))))}}]),t}(s.a.Component);p.a.render(s.a.createElement(le.a,{theme:fe},s.a.createElement(de,null)),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.aba2e801.chunk.js.map